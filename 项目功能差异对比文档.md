# Bili-Sync 项目功能差异对比文档

## 项目概述

本文档对比了两个 bili-sync 项目版本的功能差异，分析了新版本（GIT项目）相对于原版本（bili-sync-main）所添加的新功能和改进。

## 主要功能差异总结

### 🆕 新增功能

#### 1. Web管理界面增强
- **新增功能**: 可以在管理页面 `0.0.0.0:12345` 内添加视频源
- **影响**: 提供了更友好的用户界面，用户可以通过Web界面直接管理视频源，无需手动编辑配置文件

#### 2. 番剧下载支持
- **新增功能**: 支持番剧的下载，包括单季模式和全季模式
- **配置示例**:
  ```toml
  [[bangumi]]
  season_id = "96969"
  path = "D:/Downloads/番剧/九龙大众浪漫"
  download_all_seasons = false
  ```

#### 3. 配置文件格式升级
- **新增功能**: 引入了新的配置文件格式（V2版本）
- **改进点**:
  - 更清晰的配置结构
  - 支持多个收藏夹、合集、UP主投稿的配置
  - 新增 `download_all_seasons` 选项

#### 4. Docker部署优化
- **新增文件**: `docker-compose.yml`
- **改进点**:
  - 提供了完整的Docker Compose配置
  - 优化了Dockerfile，使用多阶段构建
  - 添加了健康检查功能
  - 改进了缓存策略，减少构建时间

#### 5. 开发工具链改进
- **新增功能**: 开发环境设置和构建脚本
- **包含内容**:
  - 快速开始指南
  - 常用命令说明
  - 开发流程指导

### 🔧 功能改进

#### 1. 项目结构优化
- **改进**: 更清晰的项目结构说明
- **新增**: 详细的技术栈介绍
- **包含**:
  - 后端: Rust + Tokio + Axum + SeaORM
  - 前端: Svelte + TypeScript + Tailwind CSS
  - 数据库: SQLite
  - 文档: VitePress

#### 2. UI组件扩展
- **新增组件**:
  - `dialog/` - 对话框组件
  - `label/` - 标签组件  
  - `select/` - 选择器组件
- **影响**: 提供了更丰富的用户界面交互组件

#### 3. 配置管理增强
- **新增**: 统一的配置文件 `config.toml`
- **改进**: 更灵活的配置选项
- **新增配置项**:
  - `cdn_sorting` - CDN排序
  - `nfo_time_type` - NFO时间类型
  - `time_format` - 时间格式
  - `upper_path` - UP主头像路径

### 📋 配置格式对比

#### 原版本配置特点
- 基于代码中的硬编码配置
- 需要重新编译才能修改配置

#### 新版本配置特点
- 外部配置文件 `config.toml`
- 支持运行时配置修改
- 更灵活的配置结构

### 🐳 Docker部署对比

#### 原版本Docker特点
- 简单的单阶段构建
- 基于预编译的二进制文件
- 基础的运行环境

#### 新版本Docker特点
- 多阶段构建优化
- 完整的Docker Compose支持
- 健康检查功能
- 更好的缓存策略
- 详细的元数据标签

### 📚 文档和开发体验

#### 新增内容
- 详细的快速开始指南
- 开发环境设置说明
- 项目结构文档
- 贡献指南
- 技术栈说明

#### 改进点
- 更友好的开发者体验
- 清晰的项目组织结构
- 完整的开发工具链

## 功能路线图对比

### 共同功能
- ✅ 用户凭据认证和自动刷新
- ✅ 收藏夹与视频列表/合集下载
- ✅ 自动选择最优视频音频流
- ✅ 异步并发下载
- ✅ 媒体服务器兼容的文件命名
- ✅ 失败重试机制
- ✅ 数据库保存媒体信息
- ✅ 日志记录和风控处理
- ✅ 多平台二进制文件和Docker镜像
- ✅ "稍后再看"支持
- ✅ UP主投稿视频支持
- ✅ 并行度和请求频率限制

### 新版本独有功能
- ✅ **Web管理界面中添加视频源**
- ✅ **番剧下载支持（单季/全季模式）**

## 总结

新版本（GIT项目）相对于原版本主要在以下方面有显著改进：

1. **用户体验**: 增强的Web管理界面，支持在线添加视频源
2. **功能扩展**: 新增番剧下载功能
3. **配置管理**: 更灵活的外部配置文件系统
4. **部署优化**: 改进的Docker支持和部署配置
5. **开发体验**: 完善的开发工具链和文档
6. **项目维护**: 更清晰的项目结构和贡献指南

这些改进使得项目更加用户友好，部署更加便捷，开发维护更加高效。 